<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Pixi.jsでGlitch | kaave.github.io</title>
    <meta name="description" content="Kyousuke Abe a.k.a. kaaveのサイト。主にWeb情報ネタなど中心に色々です。">
    <link title="kaave.github.io" type="application/atom+xml" href="/atom.xml" rel="alternate">
  <script src="https://cdn.polyfill.io/v2/polyfill.js?features=default-3.4,Promise"></script>
  <link href="https://fonts.googleapis.com/css?family=Mukta|Ubuntu+Mono" rel="stylesheet">
  <link href="/css/kaave.css" rel="stylesheet">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@junkjunctions">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://kaave.github.io">
  <meta property="og:title" content="kaave.github.io">
  <meta property="og:description" content="Kyousuke Abe a.k.a. kaaveのサイト。主にWeb情報ネタなど中心に色々です。">
  <meta property="og:image" content="https://kaave.github.io/ogp.jpg">
    
    <link rel="preload" href="/assets/css/0.styles.ff3a76eb.css" as="style"><link rel="preload" href="/assets/js/app.e4ebcd86.js" as="script"><link rel="preload" href="/assets/js/9.0e7ebef7.js" as="script"><link rel="prefetch" href="/assets/js/5.f27e5580.js"><link rel="prefetch" href="/assets/js/2.4faa4522.js"><link rel="prefetch" href="/assets/js/3.fa5d7dc6.js"><link rel="prefetch" href="/assets/js/4.13c04526.js"><link rel="prefetch" href="/assets/js/6.952ce4b0.js"><link rel="prefetch" href="/assets/js/7.d218a362.js"><link rel="prefetch" href="/assets/js/8.f448438b.js"><link rel="prefetch" href="/assets/js/10.107f4834.js"><link rel="prefetch" href="/assets/js/11.33de596a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ff3a76eb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="Root"><header id="header" role="banner" class="Header" data-v-3ad0f52c><div class="inner" data-v-3ad0f52c><h1 class="title" data-v-3ad0f52c><a href="/" class="title-link router-link-active" data-v-3ad0f52c>
        kaave.github.io
      </a></h1> <button class="hamberger -hidden-pc" data-v-3ad0f52c><div class="hamberger__inner" data-v-3ad0f52c><span class="hamberger__line" data-v-3ad0f52c></span> <span class="hamberger__line" data-v-3ad0f52c></span> <span class="hamberger__line" data-v-3ad0f52c></span></div></button> <nav class="nav -hidden-sp" data-v-3ad0f52c><ul class="nav-list" data-v-3ad0f52c><li class="nav-cell" data-v-3ad0f52c><a href="/entries/" class="nav-link router-link-active" data-v-3ad0f52c>entries</a></li><li class="nav-cell" data-v-3ad0f52c><a href="/about/" class="nav-link" data-v-3ad0f52c>about</a></li></ul> <ul class="nav-list -sns" data-v-3ad0f52c><li class="nav-cell" data-v-3ad0f52c><a href="https://twitter.com/junkjunctions" target="_blank" rel="noopener noreferrer" class="nav-link -sns" data-v-3ad0f52c><span aria-label="twitter" class="icon-twitter" data-v-3ad0f52c></span></a></li><li class="nav-cell" data-v-3ad0f52c><a href="https://www.facebook.com/kyousuke.abe.9" target="_blank" rel="noopener noreferrer" class="nav-link -sns" data-v-3ad0f52c><span aria-label="facebook" class="icon-facebook" data-v-3ad0f52c></span></a></li><li class="nav-cell" data-v-3ad0f52c><a href="https://github.com/kaave" target="_blank" rel="noopener noreferrer" class="nav-link -sns" data-v-3ad0f52c><span aria-label="github-circled" class="icon-github-circled" data-v-3ad0f52c></span></a></li><li class="nav-cell" data-v-3ad0f52c><a href="https://www.wantedly.com/users/57487254" target="_blank" rel="noopener noreferrer" class="nav-link -sns" data-v-3ad0f52c><span aria-label="wantedly" class="icon-wantedly" data-v-3ad0f52c></span></a></li></ul></nav></div></header> <main id="main" role="main" class="Main"><div class="Main__inner"><nav class="Breadcrumb" data-v-51a848ce><div class="inner" data-v-51a848ce><ol itemscope="itemscope" itemtype="http://schema.org/BreadcrumbList" class="Breadcrumb__list" data-v-51a848ce><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem" class="Breadcrumb__cell" data-v-51a848ce><a href="/" itemprop="item" class="Breadcrumb__link router-link-active" data-v-51a848ce><span itemprop="name" data-v-51a848ce>TOP</span></a> <meta content="0" itemprop="position" data-v-51a848ce></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem" class="Breadcrumb__cell" data-v-51a848ce><a href="/entries/" itemprop="item" class="Breadcrumb__link router-link-active" data-v-51a848ce><span itemprop="name" data-v-51a848ce>Entries</span></a> <meta content="1" itemprop="position" data-v-51a848ce></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem" class="Breadcrumb__cell" data-v-51a848ce><p itemprop="item" class="Breadcrumb__current" data-v-51a848ce><span itemprop="name" data-v-51a848ce>Pixi.jsでGlitch</span></p> <meta content="2" itemprop="position" data-v-51a848ce></li></ol></div></nav> <div class="content custom"><!----> <p>別にメディアアートまでいかなくてもいいけどTOPにばばばんと表示されてる画像や背景に表示している画像にエフェクトをかけたりしてみたいなぁというモチベが一年くらい前からくすぶってたんですが、ついに大きな&quot;炎&quot;になったので取り組んでみました。</p> <p>まずはライブラリの選択からじゃーってことでPixi.jsかThree.jsのどっちかをかじろうと考えた結果、Pixi.jsをやることに。</p> <p>で、色々ぐぐってたら<a href="https://github.com/ktingvoar/PixiGlitch" target="_blank" rel="noopener noreferrer">良さげなコード<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>を発見したんですが結構長いこと更新されておらず、最新のバージョンだと動かなかった&amp;サンプルがイマイチだったので自分でそのへんを更新してみました。</p> <h3 id="制作物"><a href="#制作物" aria-hidden="true" class="header-anchor">#</a> 制作物</h3> <ul><li><a href="https://2018-09-08-pixijs.netlify.com/08.html" target="_blank" rel="noopener noreferrer">Demo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/kaave/playground-pixi-js" target="_blank" rel="noopener noreferrer">Repository<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <ul><li>面倒くさくて検証用の環境使ってそのまま書いちゃってるのでそのうち移転するかも。</li></ul></li></ul> <h3 id="demoについて"><a href="#demoについて" aria-hidden="true" class="header-anchor">#</a> Demoについて</h3> <h4 id="操作方法"><a href="#操作方法" aria-hidden="true" class="header-anchor">#</a> 操作方法</h4> <ul><li>左上のプルダウンからエフェクトかける対象を選択できます。プリセット画像、デバイスのカメラ、アップロード画像のいずれかとなります。
<ul><li>アップロード画像はgif, jpg, pngに対応しています。</li> <li>アップロードフォームを隠してプルダウンの選択で発火するようにしたかったんですがセキュリティの関係でアウツ。なんとかする方法ってあるんですかね？</li></ul></li> <li>右のフォームでエフェクトを選択します。
<ul><li>色系はON/OFFしかないです。</li> <li>その他は色々パラメータがあるんでついでにランダムもつけました。乱数のアルゴリズムは単なる<code>Math.random</code>なので微妙です。</li></ul></li> <li>キーボードでエフェクトのON/OFF、ランダムのON/OFFを設定できます。
<ul><li>フォームの名称右にカッコでくくられた一文字があると思いますが、そのキーを押すとON/OFFが切り替わります。</li> <li><code>shift</code>を押しながらでランダムのON/OFFが切り替わります。</li> <li><code>enter</code>ですべてのエフェクトがOFFになります。</li> <li><code>shift</code>を押しながら<code>enter</code>ですべてのランダムがOFFになります。</li> <li>とりあえず<code>a</code>を叩いて<code>shift+a</code>を叩き、ほかをいじってくのがおもしろいです！ソースはもちろんカメラで！</li></ul></li></ul> <h4 id="netlify"><a href="#netlify" aria-hidden="true" class="header-anchor">#</a> Netlify</h4> <p>GitHub Pagesでもよかったんですが面倒くさかったのでNetlifyに。相も変わらず楽すぎます！もうちょっと回線がぶっとくなるといいなぁ。</p> <h3 id="コードとかそのへん"><a href="#コードとかそのへん" aria-hidden="true" class="header-anchor">#</a> コードとかそのへん</h3> <h4 id="webpackさまさま"><a href="#webpackさまさま" aria-hidden="true" class="header-anchor">#</a> webpackさまさま</h4> <p>シェーダーのコードを<code>.frag</code>で別ファイルに構築し、<code>raw-loader</code>で読み込む環境を作りました。これが非常にいい感じ。</p> <h4 id="typescriptでpixi-js"><a href="#typescriptでpixi-js" aria-hidden="true" class="header-anchor">#</a> TypeScriptでPixi.js</h4> <p>どうも型ファイルが色々と変でいくつか<code>any</code>でごまかしました。あんまいいことじゃないけど。だって型ファイルに手ぇ入れてプルリク出すほどPixi.jsわかんないんで。</p> <h4 id="シェーダーわからん"><a href="#シェーダーわからん" aria-hidden="true" class="header-anchor">#</a> シェーダーわからん</h4> <p>これは&quot;特殊技能&quot;でWeb屋にこれを求めたらいかんなという印象ですがいかがなもんでしょう…。</p> <h4 id="webアクセシビリティに準拠したpixi-jsの使い方"><a href="#webアクセシビリティに準拠したpixi-jsの使い方" aria-hidden="true" class="header-anchor">#</a> Webアクセシビリティに準拠したPixi.jsの使い方</h4> <p>今回は画像をゴリゴリやってるだけなので<code>role=&quot;presentation&quot;</code>つけときゃとりあえずいいかなって内容なんですが、例えばキャッチコピーをばんとテキストで入れてそいつをごりごりいじったときにどうすんのがいいんでしょう？</p> <p><code>canvas</code>に<code>aria-label</code>とか？そのうち調べよう・・・。</p> <h3 id="今後"><a href="#今後" aria-hidden="true" class="header-anchor">#</a> 今後</h3> <h4 id="斜めに画像をちょん切りたい"><a href="#斜めに画像をちょん切りたい" aria-hidden="true" class="header-anchor">#</a> 斜めに画像をちょん切りたい</h4> <p>あんまグリッチって感じじゃないけどどうやってやるのかまだ調べてないんですけど画像を斜めにスライスして個別に移動とかやりたいんですよね。</p> <h4 id="domではできないテキスト表現"><a href="#domではできないテキスト表現" aria-hidden="true" class="header-anchor">#</a> DOMではできないテキスト表現</h4> <p>小さなテキストを死ぬほど描画していろいろやりたい。ファミコンをどついたような感じというか。DOMでやるより軽そうだし…。</p> <h4 id="シェーダーはよくわかんない"><a href="#シェーダーはよくわかんない" aria-hidden="true" class="header-anchor">#</a> シェーダーはよくわかんない</h4> <p>上でも書いたけどわかんないのでネットで拾ってきたのをちょっとカスタムできるくらいで当面はいいかな。</p> <h4 id="画面まるごと"><a href="#画面まるごと" aria-hidden="true" class="header-anchor">#</a> 画面まるごと</h4> <p><a href="https://html2canvas.hertzen.com/" target="_blank" rel="noopener noreferrer">html2canvas<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>でうまいこといけそうなんだけど、IEが立ちはだかるのであった。IEいらん案件がでてきたらやってみたいね。</p></div></div></main> <footer id="footer" class="Footer" data-v-01fefb25><div class="inner" data-v-01fefb25><h2 class="header" data-v-01fefb25>
      kaave.github.io
    </h2> <div class="container" data-v-01fefb25><ul class="nav-list" data-v-01fefb25><li class="nav-cell" data-v-01fefb25><a href="/entries/" class="nav-link router-link-active" data-v-01fefb25>entries</a></li><li class="nav-cell" data-v-01fefb25><a href="/about/" class="nav-link" data-v-01fefb25>about</a></li></ul> <ul class="nav-list -sns" data-v-01fefb25><li class="nav-cell" data-v-01fefb25><a href="https://twitter.com/junkjunctions" target="_blank" rel="noopener noreferrer" class="nav-link -sns" data-v-01fefb25><span aria-label="twitter" class="icon-twitter" data-v-01fefb25></span></a></li><li class="nav-cell" data-v-01fefb25><a href="https://www.facebook.com/kyousuke.abe.9" target="_blank" rel="noopener noreferrer" class="nav-link -sns" data-v-01fefb25><span aria-label="facebook" class="icon-facebook" data-v-01fefb25></span></a></li><li class="nav-cell" data-v-01fefb25><a href="https://github.com/kaave" target="_blank" rel="noopener noreferrer" class="nav-link -sns" data-v-01fefb25><span aria-label="github-circled" class="icon-github-circled" data-v-01fefb25></span></a></li><li class="nav-cell" data-v-01fefb25><a href="https://www.wantedly.com/users/57487254" target="_blank" rel="noopener noreferrer" class="nav-link -sns" data-v-01fefb25><span aria-label="wantedly" class="icon-wantedly" data-v-01fefb25></span></a></li></ul></div> <small class="copyright" data-v-01fefb25>
      © kaave
    </small></div></footer> <!----></div></div>
    <script src="/assets/js/9.0e7ebef7.js" defer></script><script src="/assets/js/app.e4ebcd86.js" defer></script>
  </body>
</html>
