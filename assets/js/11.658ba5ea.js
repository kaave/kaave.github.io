(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{318:function(t,e,a){"use strict";a.r(e);var s=a(0),r=Object(s.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("ClientOnly",[a("EntryHeader",{attrs:{date:new Date("2018-09-30"),title:"WebGL入門のためにVSCodeをガッチリ設定",thumbnail:"thumbnail.png"}})],1),t._v(" "),t._m(0),t._v(" "),a("p",[t._v("Web開発歴10何年にしてついにWebGL入門しました。"),a("a",{attrs:{href:"https://wgld.org",target:"_blank",rel:"noopener noreferrer"}},[t._v("wgld.org"),a("OutboundLink")],1),t._v("を読みながらひぃひぃ言ってます。今はまだ三角形がいっぱい出たところですがここまでが凄い大変でしたね…。")]),t._v(" "),a("p",[t._v("で、WebGLっちゅーとシェーダー書くわけですが、そのための設定をVSCodeでいろいろやったのでまとめました。僕はなんか新しいことやるときはきちっと環境を作ってからじゃないとやる気が出ないタイプなんですよね。")]),t._v(" "),t._m(1),t._v(" "),a("p",[t._v("の3点でお届けします。")]),t._v(" "),t._m(2),t._v(" "),a("p",[a("a",{attrs:{href:"https://marketplace.visualstudio.com/items?itemName=slevesque.shader",target:"_blank",rel:"noopener noreferrer"}},[t._v("Shader languages support for VS Code"),a("OutboundLink")],1),t._v("を入れました。")]),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),a("p",[a("code",[t._v("glslangValidator")]),t._v("というツールをVSCodeの拡張経由でかける、という形になります。というわけでまずはOS側に先述のツールを入れ込まないといけないんですが、これは"),a("a",{attrs:{href:"https://www.khronos.org/opengles/sdk/tools/Reference-Compiler/",target:"_blank",rel:"noopener noreferrer"}},[t._v("OpenGL / OpenGL ES Reference Compiler"),a("OutboundLink")],1),t._v("のなかに含まれておるんでこいつを入れます。")]),t._v(" "),t._m(5),t._v(" "),a("p",[t._v("公式サイトから落としてガチャガチャやってもいいんですが、homebrewセットアップしてあれば以下のコマンドで一発です。")]),t._v(" "),t._m(6),t._m(7),t._v(" "),a("p",[a("a",{attrs:{href:"https://marketplace.visualstudio.com/items?itemName=CADENAS.vscode-glsllint",target:"_blank",rel:"noopener noreferrer"}},[t._v("GLSL Lint"),a("OutboundLink")],1),t._v("を入れます。")]),t._v(" "),t._m(8),t._v(" "),t._m(9),a("p",[t._v("こんだけでOKでした。適当なコード書くとその場で怒られることを確認しましょう。")]),t._v(" "),a("p",[t._v("ちなみに細かい設定に関しては調べてないです。なぜかというと僕がまだシェーダーの知識ほぼゼロなので何がいいのか悪いのかまったくわからないからです。いつか追記するかも。")]),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),a("p",[t._v("ふつうに入れればOKです。")]),t._v(" "),t._m(13),t._m(14),t._v(" "),a("p",[a("a",{attrs:{href:"https://marketplace.visualstudio.com/items?itemName=xaver.clang-format",target:"_blank",rel:"noopener noreferrer"}},[t._v("Clang-Format"),a("OutboundLink")],1),t._v("を入れましょう。")]),t._v(" "),a("p",[t._v("入れたらパスを通す必要があります。また、保存時に整形する設定も追加しましょう。以下参照。")]),t._v(" "),t._m(15),a("p",[t._v("で、このツールですけどJS(TS)にも対応しており整形してくれるんですが、Prettierとバッティングして保存のたびにいずれかのツールが自分の流儀で整形して毎回ちがうコードになるというヂゴク。ので、設定ファイルを追加してJS(TS)はスルーするようにします。")]),t._v(" "),t._m(16),a("p",[t._v("これでOK。")]),t._v(" "),a("p",[t._v("ちなみにこの拡張ですが、普段はDisableにしておきWebGLが必要なプロジェクトのみEnableにするのがいいと思います。というのもClang-Formatがないぞエラーがバンバン出るんですよ。当たり前ですけど。今回の仕事だと使わんちゅうに、みたいな。")]),t._v(" "),t._m(17),t._v(" "),a("p",[t._v("あとは書くだけです。")]),t._v(" "),t._m(18),t._v(" "),a("p",[t._v("僕は"),a("a",{attrs:{href:"https://wgld.org",target:"_blank",rel:"noopener noreferrer"}},[t._v("wgld.org"),a("OutboundLink")],1),t._v("の環境設定とは違い、TypeScript + webpackでやってます。"),a("a",{attrs:{href:"https://github.com/doxas/minMatrix.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("minMatrix.js"),a("OutboundLink")],1),t._v("も"),a("a",{attrs:{href:"https://github.com/kaave/playground-webgl/blob/b93adfe75f06deb8cc03fbb5c8b9b09af5b92d0c/src/scripts/modules/minMatrix.ts",target:"_blank",rel:"noopener noreferrer"}},[t._v("自分で書き直してTypeScript仕様にしてます"),a("OutboundLink")],1),t._v("。新しいことやるときはやっぱ型あったほうが格段に楽ですね…。")])],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"webglやるぞ！"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webglやるぞ！","aria-hidden":"true"}},[this._v("#")]),this._v(" WebGLやるぞ！")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Syntax Highlight")]),this._v(" "),e("li",[this._v("Linter")]),this._v(" "),e("li",[this._v("Formatter")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"syntax-highlight"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#syntax-highlight","aria-hidden":"true"}},[this._v("#")]),this._v(" Syntax Highlight")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("これは入れるだけでオシマイ。とくにどうこうありませぬ。自分の環境だとこれだけで"),e("code",[this._v(".glsl")]),this._v(", "),e("code",[this._v(".frag")]),this._v(", "),e("code",[this._v(".vert")]),this._v("のいずれの形式もハイライトされました。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"linter"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#linter","aria-hidden":"true"}},[this._v("#")]),this._v(" Linter")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"os"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#os","aria-hidden":"true"}},[this._v("#")]),this._v(" OS")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[this._v("brew "),e("span",{attrs:{class:"token function"}},[this._v("install")]),this._v(" glslang\n"),e("span",{attrs:{class:"token comment"}},[this._v("# ちゃんと入ったか確認")]),this._v("\nglslangValidator --version\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"vscode"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vscode","aria-hidden":"true"}},[this._v("#")]),this._v(" VSCode")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("入れたら"),e("code",[this._v("glslangValidator")]),this._v("のパスを通します。設定ファイルの適当なところに以下の1行を追加してください。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-jsonc extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('// OS側でパスが通ってるのでこれだけでOKっぽい。\n"glsllint.glslangValidatorPath": "glslangValidator"\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"fotmatter"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#fotmatter","aria-hidden":"true"}},[this._v("#")]),this._v(" Fotmatter")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("Clang-Format")]),this._v("というツールを使います。これはhomebrew経由でOSに入れるかnpm経由でワークスペースに入れるかの2択ですが、ローカルに入れて困らんものはローカルに入れましょう。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"npm"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#npm","aria-hidden":"true"}},[this._v("#")]),this._v(" npm")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{attrs:{class:"token function"}},[this._v("npm")]),this._v(" i -D clang-format\n"),e("span",{attrs:{class:"token comment"}},[this._v("# or")]),this._v("\nyarn add -D clang-format\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"vscode-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vscode-2","aria-hidden":"true"}},[this._v("#")]),this._v(" VSCode")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-jsonc extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('// ワークスペースのclang-formatを利用する\n"clang-format.executable": "${workspaceRoot}/node_modules/.bin/clang-format",\n// glsl形式のファイルを保存する際に整形\n"[glsl]": {\n  "editor.formatOnSave": true\n},\n')])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("# .clang-format")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("# 基本的な設定をGoogle準拠にする その他いろいろあるけど略")]),t._v("\n"),a("span",{attrs:{class:"token key atrule"}},[t._v("BasedOnStyle")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Google\n"),a("span",{attrs:{class:"token comment"}},[t._v("# 1行あたりのMax文字数を120文字とする")]),t._v("\n"),a("span",{attrs:{class:"token key atrule"}},[t._v("ColumnLimit")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("120")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("# タブ幅を4とする")]),t._v("\n"),a("span",{attrs:{class:"token key atrule"}},[t._v("TabWidth")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("4")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("---")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("# 以下、JavaScript/TypeScriptの設定となる。")]),t._v("\n"),a("span",{attrs:{class:"token key atrule"}},[t._v("Language")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" JavaScript\n"),a("span",{attrs:{class:"token comment"}},[t._v("# Clang-Formatを無効化する")]),t._v("\n"),a("span",{attrs:{class:"token key atrule"}},[t._v("DisableFormat")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"以上"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#以上","aria-hidden":"true"}},[this._v("#")]),this._v(" 以上")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"ちなみに"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ちなみに","aria-hidden":"true"}},[this._v("#")]),this._v(" ちなみに")])}],!1,null,null,null);r.options.__file="0930-webgl-vscode.md";e.default=r.exports}}]);